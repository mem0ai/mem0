[Cloudflare Workers](https://workers.cloudflare.com/) is a serverless platform that enables you to run JavaScript at the edge. This integration allows you to use mem0 from a Cloudflare Worker environment via HTTP API calls using a fetch-based client wrapper that avoids Node.js-only APIs.

### Usage

<CodeGroup>
```typescript TypeScript
// Minimal mem0 client for edge runtimes using fetch
class Mem0WorkerClient {
  baseUrl: string;
  apiKey?: string;

  constructor(opts: { baseUrl: string; apiKey?: string }) {
    this.baseUrl = opts.baseUrl.replace(/\/+$/, "");
    this.apiKey = opts.apiKey;
  }

  async createMemory(payload: Record<string, unknown>) {
    return this.request('/v1/memories', {
      method: 'POST',
      body: JSON.stringify(payload),
      headers: {'Content-Type': 'application/json'},
    });
  }

  async queryMemory(query: Record<string, unknown>) {
    return this.request('/v1/memories/query', {
      method: 'POST',
      body: JSON.stringify(query),
      headers: {'Content-Type': 'application/json'},
    });
  }

  private async request(path: string, init: RequestInit = {}) {
    const headers = new Headers(init.headers as HeadersInit);
    if (this.apiKey) headers.set('Authorization', `Bearer ${this.apiKey}`);

    const res = await fetch(this.baseUrl + path, {
      ...init,
      headers,
    });

    if (!res.ok) {
      throw new Error(`mem0 request failed: ${res.status} ${res.statusText}`);
    }

    const contentType = res.headers.get('content-type') || '';
    if (contentType.includes('application/json')) return res.json();
    return res.text();
  }
}

// Read env from global bindings (Cloudflare Workers)
declare const MEM0_API_BASE: string | undefined;
declare const MEM0_API_KEY: string | undefined;

const client = new Mem0WorkerClient({
  baseUrl: MEM0_API_BASE || 'https://api.mem0.ai',
  apiKey: MEM0_API_KEY,
});

// Example usage in a Cloudflare Worker
addEventListener('fetch', (event: any) => {
  event.respondWith(handleRequest(event.request));
});

async function handleRequest(request: Request): Promise<Response> {
  const url = new URL(request.url);

  if (url.pathname === '/memories' && request.method === 'POST') {
    try {
      const payload = await request.json();
      const result = await client.createMemory(payload);
      return new Response(JSON.stringify(result), {
        headers: {'Content-Type': 'application/json'}
      });
    } catch (error) {
      return new Response(JSON.stringify({error: String(error)}), {
        status: 500,
        headers: {'Content-Type': 'application/json'}
      });
    }
  }

  return new Response('OK');
}
```

```bash Environment Setup
# Set environment variables using Wrangler CLI
wrangler secret put MEM0_API_KEY
wrangler secret put MEM0_API_BASE

# Or configure in wrangler.toml
[vars]
MEM0_API_BASE = "https://api.mem0.ai"
MEM0_API_KEY = "sk-xxx"
```
</CodeGroup>

### Config

| Parameter | Description | Default Value |
| --- | --- | --- |
| `MEM0_API_BASE` | Base URL for the mem0 API | `https://api.mem0.ai` |
| `MEM0_API_KEY` | API key for authentication | `None` |

### Setup Instructions

1. **Install Wrangler CLI:**
   ```bash
   npm install -g wrangler
   wrangler login
   ```

2. **Create a new Worker project:**
   ```bash
   wrangler generate my-mem0-worker
   cd my-mem0-worker
   ```

3. **Set environment variables:**
   ```bash
   wrangler secret put MEM0_API_KEY
   wrangler secret put MEM0_API_BASE
   ```

4. **Deploy your worker:**
   ```bash
   wrangler deploy
   ```
